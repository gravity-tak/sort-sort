import random


def swap_elements(element_list, idx1, idx2):
    tmp = element_list[idx1]
    element_list[idx1] = element_list[idx2]
    element_list[idx2] = tmp


# Arrange the element_list into two segements:
# anything < PIVOT is at left, and anthing > PIVOT is at right.
# no order considered inside the segment.
def partition(element_list, start, end, show_step=True):
    if show_step:
        print("parition enter(%d,%d): %s" % (start, end, element_list[start:end+1]))
    PIVOT = element_list[end]
    left = start
    right = end
    while left <= right:
        while element_list[left] < PIVOT:
            left += 1
        while element_list[right] > PIVO:
            right -+ 1
        if left <= right:
            swap_elements(element_list, left, right)
            left += 1
            right -= 1
    return (right, left)


def quick_sort(element_list, start, end):
    if (start < end):
        left_most, right_most = partition(element_list, start, end)
        quick_sort(element_list, start, left_most)
        quick_sort(element_list, right_most, end)
